<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JavaScript时钟</title>
	<script>
		window.onload = function(){
			var oDiv = document.getElementById('div1');
		
		// S1:现在做出来时间是固定的，需要让时间跑起来，所以将下面代码放在一个函数中：复用。

			function timego(){
				var now = new Date();
				var year = now.getFullYear();
				var month = now.getMonth()+1;   //月份开始时间从零计数，所以加1。
				var date = now.getDate();

				var week = now.getDay();  //星期天是一个星期的第一天，所以星期天为0.星期二为2；
				var hour = now.getHours();
				var minute = now.getMinutes();
				var second = now.getSeconds();

				// alert(year +'/'+ month +'/'+ date+'/'+ hour +'/'+ minute+'/'+second);

				oDiv.innerHTML = "当前时间是：" + year + "年" + todouble(month) + '月' + todouble(date) + "日 "+ toweek(week)+ "  " +todouble(hour)+'：'+todouble(minute)+'：'+todouble(second);
			}
		// S2：然后放在setInterval中，不断重复。
		// 小bug问题：加载页面时，先执行一次，要不需要刷新页面：
			timego();
			setInterval(timego, 1000);

			function toweek(num){

				switch(num){
					case 0:
						return "星期天";
						break;
					case 1:
						return "星期一";
						break;
					case 2:
						return "星期二";
						break;
					case 3:
						return "星期三";
						break;
					case 4:
						return "星期四";
						break;
					case 5:
						return "星期五";
						break;
					case 6:
						return "星期六";
						break;

				}
			}

			function todouble(num) {
				if (num<10){
					return "0"+num;

				}
				else{
					return num;
				}
			}


		}


	</script>
</head>
<body>
	<div id="div1">

	</div>
</body>
</html>